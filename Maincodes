private String fetchAuthToken() {
    try {
        HttpHeaders headers = new HttpHeaders();
        headers.setContentType(MediaType.APPLICATION_JSON);
        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));

        // ✅ Body with username and password
        Map<String, String> body = new HashMap<>();
        body.put("username", username);
        body.put("password", password);

        HttpEntity<Map<String, String>> request = new HttpEntity<>(body, headers);

        System.out.println("🔐 Sending token request to: " + authTokenUrl);
        ResponseEntity<String> response = restTemplate.postForEntity(authTokenUrl, request, String.class);

        System.out.println("✅ Token response: " + response.getBody());

        JsonNode json = mapper.readTree(response.getBody());

        return json.path("access_token").asText(); // 👈 confirm this key
    } catch (Exception e) {
        throw new RuntimeException("❌ Failed to fetch token: " + e.getMessage(), e);
    }
}
